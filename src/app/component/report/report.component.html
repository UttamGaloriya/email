<div class="contaniner">
    <mat-card>
        <mat-card-header>
            <mat-card-title>Emailed Reports</mat-card-title>
        </mat-card-header>
        <mat-card-content>

            <mat-list role="list">
                <mat-list-item role="listitem" *ngFor="let report of reportName,let i=index" class="mat-elevation-z6">
                    <div class="list-title">
                        <h4>{{report.name | titlecase}}</h4>
                        <span>
                            <button mat-button *ngIf="report.toggle" (click)="emailFormShow()">Add Email</button>
                            <mat-slide-toggle color="primary" (toggleChange)="showSubList(i)" [checked]="report.toggle"></mat-slide-toggle>
                        </span>
                    </div>
                    <div *ngIf="report.toggle">
                        <app-email-form *ngIf="reportsEmailList(report.name)==null||emailShow" (close)="emailFormClose($event)" (submit)="emailSubmit($event,report.name)"></app-email-form>
                        <mat-list-item role="listitem" *ngFor="let list of reportsEmailList(report.name),let j=index" class="sub-list">
                            <span matListItemIcon class="span-icon" *ngIf="j!=emailEditIndex">{{list.email | slice:0:1 | uppercase}}</span>
                            <div class="sub-list-heading" *ngIf="j!=emailEditIndex">{{list.email}}</div>
                            <div class="sub-list-subHeading" *ngIf="j!=emailEditIndex">{{list.username}}</div>
                            <app-edit-email (close)="emailEditClose($event)" (submit)="emailEditSubmit($event ,j,report.name)" [emailOBj]="list" *ngIf="j==emailEditIndex"></app-edit-email>
                            <app-menu *ngIf="j!=emailEditIndex" class="menu-icon" (edit)="subListReportEdit(j)" (delete)="subListReportDelete($event,j,report.name)"></app-menu>
                        </mat-list-item>
                    </div>
                </mat-list-item>
            </mat-list>
        </mat-card-content>
    </mat-card>
</div>